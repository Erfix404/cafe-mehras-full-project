# This is the server block that listens for requests.
server {
  # Listen on port 80, the standard HTTP port inside the container.
  listen 80;

  # Define the root directory for web files.
  location / {
    root   /usr/share/nginx/html;
    index  index.html index.htm;
    
    # This is the most important part for a React application (SPA).
    # It tells Nginx to try finding a file that matches the request URI.
    # If it doesn't find one, it tries to find a directory.
    # If that also fails, instead of returning a 404 error, it serves the /index.html file.
    # This allows React Router to handle the routing on the client-side.
    try_files $uri $uri/ /index.html;
  }

  # Optional: A custom error page configuration.
  error_page   500 502 503 504  /50x.html;
  location = /50x.html {
    root   /usr/share/nginx/html;
  }
}
